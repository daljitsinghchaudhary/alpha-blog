'use strict'
Object.defineProperty(exports, '__esModule', { value: true })
const lex_1 = require('./lex')
const Token = require('./token')
function parse(body) {
  const tokens = lex_1.default(body)
  let token
  let file = new File()
  let cur = new File()
  console.log(tokens)
  while ((token = tokens.shift())) {
    switch (token.type) {
      case 'default':
        cur = new Token.DefaultMachine(token)
        file.addToken(cur)
        break
      case 'machine':
        cur = new Token.Machine(token)
        file.addToken(cur)
        break
      case 'newline':
        cur = file
        cur.addToken(token)
        break
      default:
        cur.addToken(token)
    }
  }
  return file
}
exports.default = parse
